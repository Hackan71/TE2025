<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abfindungsrechner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 {
      color: orange;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border: none;
    }
    input, select {
      width: 100%;
      padding: 5px;
      font-size: 1em;
      background-color: #fff3e0;
      border: 1px solid orange;
    }
    .checkbox {
      width: 20px;
      height: 20px;
    }
    .output {
      font-weight: bold;
    }
    .info {
      margin-top: 20px;
      font-size: 0.9em;
      color: #666;
    }
    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      input, select {
        font-size: 1em;
      }
    }
  </style>
</head>
<body>
  <h1>Rahmensozialplan – Abfindungsrechner</h1>
  <form id="rechnerForm">
    <table>
      <tr><td>Vollendetes Alter:</td><td><input type="number" id="alter" min="16" max="66"></td></tr>
      <tr><td>Abfindungsfaktor:</td><td class="output" id="abfaktor"></td></tr>
      <tr><td>Betriebszugehörigkeit (Jahre):</td><td><input type="number" id="betriebszu" min="1" max="50"></td></tr>
      <tr><td>davon Jahre in Teilzeit:</td><td><input type="number" id="teilzeit" min="0"></td></tr>
      <tr><td>Bruttomonatsgehalt in Teilzeit (€):</td><td><input type="number" id="gehaltTeilzeit"></td></tr>
      <tr><td>Bruttomonatsgehalt in Vollzeit (€):</td><td><input type="number" id="gehaltVollzeit"></td></tr>
      <tr><td>Fiktives/aktuelles Bruttogehalt:</td><td class="output" id="bruttoInfo"></td></tr>
      <tr><td>Kinder unter 27 Jahre:</td><td><input type="number" id="kinder" min="0" max="10"></td></tr>
      <tr><td>Alleinerziehend:</td><td><input type="checkbox" id="alleinerziehend" class="checkbox"></td></tr>
      <tr><td>Schwerbehinderung:</td><td><input type="checkbox" id="schwerbehindert" class="checkbox"></td></tr>
      <tr><td>Gleichstellung (Schwerbeh.):</td><td><input type="checkbox" id="gleichstellung" class="checkbox"></td></tr>
      <tr><td>Outplacement:</td><td class="output" id="outplacement"></td></tr>
      <tr><td>Abfindungssumme:</td><td class="output" id="abfindungSumme"></td></tr>
      <tr><td><h2>Freiwilligenprogramm</h2></td><td><input type="checkbox" id="freiwillig" class="checkbox"></td></tr>
      <tr><td>Zusatzfaktor:</td><td class="output" id="zusatzfaktor"></td></tr>
      <tr><td>Freiwillige Zusatzabfindung:</td><td class="output" id="freiZusatz"></td></tr>
      <tr><td>Erhöhung Sockelbetrag:</td><td class="output" id="sockelErhoehung"></td></tr>
      <tr><td>Kapitalisierung Outplacement:</td><td class="output" id="kapitalisierung"></td></tr>
      <tr><td><h2>Gesamte Bruttoabfindung:</h2></td><td class="output" id="bruttoGesamt"></td></tr>
    </table>
    <br>
    <button type="button" onclick="berechne()">Berechnen</button>
    <button type="button" onclick="resetForm()">Zurücksetzen</button>
  </form>

  <div class="info">
    Dieser Rechner dient nur zu Informationszwecken. Keine Gewähr auf Richtigkeit. <br>
    Erstellt von Hakan Tokat, Stand: 10.06.2025
  </div>

  <script>
    document.getElementById("schwerbehindert").addEventListener("change", function() {
      if (this.checked) document.getElementById("gleichstellung").checked = false;
    });
    document.getElementById("gleichstellung").addEventListener("change", function() {
      if (this.checked) document.getElementById("schwerbehindert").checked = false;
    });

    function resetForm() {
      document.getElementById("rechnerForm").reset();
      const outputs = ["abfaktor", "bruttoInfo", "abfindungSumme", "outplacement", "zusatzfaktor", "freiZusatz", "sockelErhoehung", "kapitalisierung", "bruttoGesamt"];
      outputs.forEach(id => document.getElementById(id).textContent = "");
    }

    function berechne() {
      const alter = parseInt(document.getElementById("alter").value) || 0;
      const zu = parseInt(document.getElementById("betriebszu").value) || 0;
      const teilzeit = parseInt(document.getElementById("teilzeit").value) || 0;
      const gehaltT = parseFloat(document.getElementById("gehaltTeilzeit").value) || 0;
      const gehaltV = parseFloat(document.getElementById("gehaltVollzeit").value) || 0;
      const kinder = parseInt(document.getElementById("kinder").value) || 0;
      const alleinerziehend = document.getElementById("alleinerziehend").checked;
      const schwerbehindert = document.getElementById("schwerbehindert").checked;
      const gleichstellung = document.getElementById("gleichstellung").checked;
      const freiwillig = document.getElementById("freiwillig").checked;

      const faktor = alter < 30 ? 0.7 : alter <= 39 ? 0.8 : alter <= 49 ? 0.9 : 1;
      document.getElementById("abfaktor").textContent = faktor.toFixed(2);

      const anteilT = ((zu - teilzeit) <= zu * 2 / 3) ? (teilzeit / zu * gehaltT) : 0;
      const anteilV = anteilT === 0 ? gehaltV : ((zu - teilzeit) / zu * gehaltV);
      const brutto = anteilT + anteilV;
      const fiktivText = anteilT === 0 ? "Bruttomonatsgehalt: " : "Fiktives Bruttogehalt: ";
      document.getElementById("bruttoInfo").textContent = `${fiktivText} (${brutto.toFixed(0)}×13,27/12)`;

      const basis = Math.round(brutto * 13.27 / 12);
      const abfindung = Math.min(basis * zu * faktor, 250000);
      document.getElementById("abfindungSumme").textContent = abfindung.toLocaleString("de-DE") + " €";

      const kinderBonus = kinder * 4000;
      const allein = alleinerziehend ? 6000 : 0;
      const schwer = schwerbehindert ? 6000 : 0;
      const gleich = gleichstellung ? 3000 : 0;

      const outplace = freiwillig ? 0 : (zu <= 10 ? 5000 : zu <= 15 ? 7500 : zu <= 20 ? 10000 : zu <= 25 ? 12500 : 15000);
      document.getElementById("outplacement").textContent = outplace ? outplace + " €" : "";

      const zusatzFaktor = freiwillig ? 0.3 : 0;
      document.getElementById("zusatzfaktor").textContent = zusatzFaktor ? zusatzFaktor : "";

      const zusatzAbf = freiwillig ? Math.min(Math.round(basis * zu * zusatzFaktor), 150000) : 0;
      document.getElementById("freiZusatz").textContent = zusatzAbf ? zusatzAbf.toLocaleString("de-DE") + " €" : "";

      let sockelErh = 0;
      if (freiwillig && alter >= 30) {
        sockelErh = alter < 40 ? 7500 : alter < 50 ? 10000 : alter < 60 ? 12500 : 15000;
        document.getElementById("sockelErhoehung").textContent = sockelErh + " €";
      } else {
        document.getElementById("sockelErhoehung").textContent = "";
      }

      const kapitalisierung = freiwillig ? (zu <= 10 ? 5000 : zu <= 15 ? 7500 : zu <= 20 ? 10000 : zu <= 25 ? 12500 : 15000) : 0;
      document.getElementById("kapitalisierung").textContent = kapitalisierung ? kapitalisierung + " €" : "";

      const sockelbetrag = freiwillig && alter >= 30 ? 0 : 5000;
      const gesamt = abfindung + kinderBonus + allein + schwer + gleich + outplace + zusatzAbf + sockelErh + kapitalisierung + sockelbetrag;
      document.getElementById("bruttoGesamt").textContent = gesamt.toLocaleString("de-DE") + " €";
    }
  </script>
</body>
</html>
